<!doctype html>
<html lang="id" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>Tes Minat Bakat Kuliah - UIA 2026</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            overflow-x: hidden;
            width: 100%;
            max-width: 100vw;
        }
        
        * {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* iOS Safe Area */
        @supports (padding: max(0px)) {
            body {
                padding-left: max(0px, env(safe-area-inset-left));
                padding-right: max(0px, env(safe-area-inset-right));
            }
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #0f4c3a 0%, #10b981 50%, #34d399 100%);
            background-size: 200% 200%;
            animation: gradientShift 15s ease infinite;
        }
        
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .card-shadow {
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
        }
        
        .emoji-option {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            user-select: none;
            -webkit-user-select: none;
        }
        
        .emoji-option:active {
            transform: scale(0.95);
        }
        
        .emoji-option input:checked + label {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(16, 185, 129, 0.4);
        }
        
        .emoji-scale {
            font-size: 2.5rem;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }
        
        .btn-primary:active {
            transform: scale(0.98);
        }
        
        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        .progress-bar {
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            background: linear-gradient(90deg, #10b981, #34d399, #6ee7b7);
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { background-position: -100% 0; }
            100% { background-position: 100% 0; }
        }
        
        .fade-in {
            animation: fadeIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .slide-in-right {
            animation: slideInRight 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(50px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        .slide-in-left {
            animation: slideInLeft 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-50px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        .celebration {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1000;
            animation: celebrationPop 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        @keyframes celebrationPop {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }
        
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            z-index: 999;
            animation: confettiFall 3s linear;
        }
        
        @keyframes confettiFall {
            to {
                transform: translateY(100%) rotate(360deg);
                opacity: 0;
            }
        }
        
        .loading-spinner {
            border: 4px solid rgba(16, 185, 129, 0.1);
            border-top: 4px solid #10b981;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .pulse-animation {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .medal {
            display: inline-block;
            animation: medalBounce 1s ease-in-out infinite;
        }
        
        @keyframes medalBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .whatsapp-btn {
            background: linear-gradient(135deg, #25D366 0%, #20BA5A 100%);
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(37, 211, 102, 0.4);
        }
        
        .whatsapp-btn:active {
            transform: scale(0.98);
        }
        
        .radar-chart {
            position: relative;
            width: 100%;
            height: 300px;
        }
        
        /* Responsive improvements */
        .card-container {
            width: 100%;
            max-width: 100%;
            margin: 0 auto;
        }
        
        /* Mobile optimizations */
        @media (max-width: 640px) {
            .emoji-scale {
                font-size: 2rem;
            }
            
            body {
                font-size: 14px;
            }
            
            .card-shadow {
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            }
        }
        
        /* Tablet & larger phones */
        @media (min-width: 641px) and (max-width: 1024px) {
            .emoji-scale {
                font-size: 2.2rem;
            }
        }
        
        /* Desktop & larger */
        @media (min-width: 1025px) {
            .emoji-scale {
                font-size: 2.5rem;
            }
        }
        
        /* Landscape mobile fix */
        @media (max-height: 500px) and (orientation: landscape) {
            .emoji-scale {
                font-size: 1.5rem;
            }
            
            section {
                padding-top: 2rem !important;
                padding-bottom: 2rem !important;
            }
        }
        
        /* Better image/emoji rendering */
        img, svg {
            max-width: 100%;
            height: auto;
            display: block;
        }
        
        /* Prevent text overflow */
        h1, h2, h3, h4, h5, h6, p, span, li {
            word-wrap: break-word;
            overflow-wrap: break-word;
        }
        
        /* iOS specific fixes */
        input[type="text"],
        input[type="tel"] {
            -webkit-appearance: none;
            appearance: none;
            border-radius: 12px;
        }
        
        button {
            -webkit-appearance: none;
            appearance: none;
        }
        
        /* Prevent zoom on input focus (iOS) */
        input:focus {
            font-size: 16px;
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full">
  <main id="app" class="w-full h-full min-h-screen gradient-bg overflow-x-hidden"><!-- Page 1: Form Data Diri -->
   <section id="page-data-diri" class="w-full min-h-screen flex flex-col items-center justify-center p-4 py-8">
    <div class="w-full max-w-md bg-white rounded-3xl card-shadow p-6 sm:p-8 fade-in">
     <header class="text-center mb-6">
      <div class="text-5xl mb-4">
       üéì
      </div>
      <h1 id="university-name" class="text-2xl sm:text-3xl font-bold text-gray-800 mb-2">Universitas Islam As-Syafi'iyah</h1>
      <h2 id="test-title" class="text-lg sm:text-xl font-semibold text-green-600 mb-3">Tes Minat &amp; Bakat Kuliah</h2>
      <p id="welcome-message" class="text-gray-600 text-sm sm:text-base">Temukan program studi yang paling cocok buat kamu!</p>
     </header>
     <form id="form-data-diri" class="space-y-4">
      <div><label class="block text-gray-700 font-semibold mb-2 text-sm sm:text-base" for="nama"> üë§ Nama Lengkap <span class="text-red-500">*</span> </label> <input type="text" id="nama" required class="w-full px-4 py-3 sm:py-4 text-base border-2 border-gray-200 rounded-xl focus:border-green-500 focus:outline-none transition-colors" placeholder="Masukkan nama lengkap kamu">
      </div>
      <div><label class="block text-gray-700 font-semibold mb-2 text-sm sm:text-base" for="whatsapp"> üì± Nomor WhatsApp <span class="text-red-500">*</span> </label> <input type="tel" id="whatsapp" required class="w-full px-4 py-3 sm:py-4 text-base border-2 border-gray-200 rounded-xl focus:border-green-500 focus:outline-none transition-colors" placeholder="08xxxxxxxxxx">
      </div>
      <div><label class="block text-gray-700 font-semibold mb-2 text-sm sm:text-base" for="sekolah"> üè´ Asal Sekolah <span class="text-red-500">*</span> </label> <input type="text" id="sekolah" required class="w-full px-4 py-3 sm:py-4 text-base border-2 border-gray-200 rounded-xl focus:border-green-500 focus:outline-none transition-colors" placeholder="Nama sekolah/madrasah">
      </div>
      <div><label class="block text-gray-700 font-semibold mb-2 text-sm sm:text-base" for="referensi"> üí° Referensi (Opsional) </label> <input type="text" id="referensi" class="w-full px-4 py-3 sm:py-4 text-base border-2 border-gray-200 rounded-xl focus:border-green-500 focus:outline-none transition-colors" placeholder="Dari mana kamu tahu UIA?">
      </div><button type="submit" id="btn-start" class="w-full btn-primary text-white font-bold py-4 sm:py-5 rounded-xl mt-6 text-base sm:text-lg"> Mulai Tes Sekarang üöÄ </button>
     </form>
     <footer class="text-center text-gray-500 text-xs sm:text-sm mt-6">
      <p id="footer-text">Copyright ¬© 2026 Suyaka Rendhy. All rights reserved.</p>
     </footer>
    </div>
   </section><!-- Page 2: Tes (30 Soal) -->
   <section id="page-tes" class="w-full min-h-screen hidden p-4 py-8">
    <div class="w-full max-w-3xl mx-auto bg-white rounded-3xl card-shadow p-5 sm:p-8 my-4"><!-- Progress Bar -->
     <div class="mb-6">
      <div class="flex justify-between items-center mb-3"><span class="text-sm sm:text-base font-bold text-gray-700">Progress</span> <span id="progress-text" class="text-sm sm:text-base font-bold text-green-600">Soal 1 dari 30</span>
      </div>
      <div class="w-full bg-gray-200 rounded-full h-4">
       <div id="progress-bar" class="progress-bar h-4 rounded-full" style="width: 3.33%"></div>
      </div>
      <div id="streak-indicator" class="text-center mt-2 text-orange-600 font-bold text-sm hidden">
       üî• Streak: <span id="streak-count">0</span> berturut-turut!
      </div>
     </div><!-- Fun Fact -->
     <div id="fun-fact" class="bg-blue-50 border-l-4 border-blue-500 p-4 mb-6 rounded-lg hidden">
      <p class="text-blue-800 text-sm sm:text-base"><span class="font-bold">üí° Tahukah kamu?</span> <span id="fun-fact-text"></span></p>
     </div><!-- Soal -->
     <div id="soal-container" class="mb-8">
      <h3 class="text-lg sm:text-2xl font-bold text-gray-800 mb-6" id="soal-text"></h3>
      <div id="options-container" class="space-y-3"></div>
     </div><!-- Navigation -->
     <nav class="flex justify-between items-center mt-8 gap-3"><button id="btn-prev" class="px-4 sm:px-6 py-3 sm:py-4 bg-gray-200 text-gray-700 font-bold rounded-xl hover:bg-gray-300 transition-colors text-sm sm:text-base flex-1 sm:flex-none"> ‚Üê Sebelumnya </button> <button id="btn-next" class="px-4 sm:px-6 py-3 sm:py-4 btn-primary text-white font-bold rounded-xl text-sm sm:text-base flex-1 sm:flex-none"> Berikutnya ‚Üí </button> <button id="btn-submit-test" class="px-4 sm:px-6 py-3 sm:py-4 btn-primary text-white font-bold rounded-xl hidden text-sm sm:text-base flex-1 sm:flex-none"> Submit Jawaban ‚ú® </button>
     </nav>
     <footer class="text-center text-gray-500 text-xs sm:text-sm mt-6">
      <p id="footer-text-tes">Copyright ¬© 2026 Suyaka Rendhy. All rights reserved.</p>
     </footer>
    </div>
   </section><!-- Page 3: Loading -->
   <section id="page-loading" class="w-full min-h-screen hidden flex flex-col items-center justify-center p-4">
    <div class="text-center">
     <div class="loading-spinner mx-auto mb-6"></div>
     <h2 class="text-2xl sm:text-3xl font-bold text-white mb-4" id="loading-text">üîç Menganalisis jawaban kamu...</h2>
     <p class="text-white text-base sm:text-lg opacity-90">Tunggu sebentar ya!</p>
    </div>
   </section><!-- Page 4: Hasil -->
   <section id="page-hasil" class="w-full min-h-screen hidden p-4 py-8">
    <div class="w-full max-w-4xl mx-auto bg-white rounded-3xl card-shadow p-5 sm:p-8 my-4 fade-in">
     <header class="text-center mb-8">
      <div class="text-6xl mb-4">
       üéâ
      </div>
      <h1 class="text-2xl sm:text-3xl font-bold text-green-600 mb-2">Terima kasih telah mengikuti</h1>
      <h2 class="text-xl sm:text-2xl font-semibold text-gray-800">Tes Minat &amp; Bakat UIA 2026</h2>
     </header><!-- Data Peserta -->
     <div class="bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-5 sm:p-6 mb-6">
      <h3 class="text-lg sm:text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">üìã Data Peserta</h3>
      <div class="space-y-2 text-sm sm:text-base">
       <p class="text-gray-700"><span class="font-semibold">üë§ Nama:</span> <span id="result-nama"></span></p>
       <p class="text-gray-700"><span class="font-semibold">üì± WhatsApp:</span> <span id="result-wa"></span></p>
       <p class="text-gray-700"><span class="font-semibold">üè´ Sekolah:</span> <span id="result-sekolah"></span></p>
       <p class="text-gray-700"><span class="font-semibold">üí° Referensi:</span> <span id="result-referensi"></span></p>
      </div>
     </div><!-- Kepribadian Radar -->
     <div class="bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-5 sm:p-6 mb-6">
      <h3 class="text-lg sm:text-xl font-bold text-gray-800 mb-4 flex items-center gap-2">üß† Profil Kepribadian Kamu</h3>
      <div id="personality-bars" class="space-y-3"></div>
     </div><!-- Top 3 Rekomendasi -->
     <div class="mb-6">
      <p id="default-info"
   class="text-center text-sm sm:text-base text-orange-600 font-semibold mb-3 hidden">
 ‚ö†Ô∏è Jika kamu belum menjawab semua soal,  
 kami merekomendasikan program studi populer berikut.
</p>

<h3 class="text-xl sm:text-2xl font-bold text-gray-800 mb-4 text-center">
 üèÜ Top 3 Rekomendasi Program Studi
</h3>

      <div id="rank-1" class="bg-gradient-to-r from-yellow-100 to-yellow-50 border-4 border-yellow-400 rounded-2xl p-5 sm:p-6 mb-4">
       <div class="flex items-start gap-3 mb-3"><span class="text-4xl sm:text-5xl medal">ü•á</span>
        <div class="flex-1">
         <div class="flex items-center justify-between mb-2 flex-wrap gap-2">
          <h4 class="text-xl sm:text-2xl font-bold text-gray-800" id="result-prodi-1"></h4><span class="text-2xl sm:text-3xl font-bold text-yellow-600" id="result-score-1"></span>
         </div>
         <p class="text-xs sm:text-sm text-gray-600 mb-3" id="result-fakultas-1"></p>
         <p class="text-sm sm:text-base text-gray-700 mb-4" id="result-penjelasan-1"></p>
         <div class="bg-white rounded-xl p-4">
          <h5 class="font-bold text-gray-800 mb-2 text-sm sm:text-base">üíº Prospek Karir:</h5>
          <ul class="list-disc list-inside space-y-1 text-gray-700 text-xs sm:text-sm" id="result-karir-1"></ul>
         </div>
        </div>
       </div>
      </div><!-- Rank 2 -->
      <div id="rank-2" class="bg-gradient-to-r from-gray-100 to-gray-50 border-2 border-gray-300 rounded-2xl p-4 sm:p-5 mb-4">
       <div class="flex items-start gap-3"><span class="text-3xl sm:text-4xl">ü•à</span>
        <div class="flex-1">
         <div class="flex items-center justify-between mb-2 flex-wrap gap-2">
          <h4 class="text-lg sm:text-xl font-bold text-gray-800" id="result-prodi-2"></h4><span class="text-xl sm:text-2xl font-bold text-gray-500" id="result-score-2"></span>
         </div>
         <p class="text-xs sm:text-sm text-gray-600 mb-2" id="result-fakultas-2"></p>
         <p class="text-xs sm:text-sm text-gray-600" id="result-penjelasan-2"></p>
        </div>
       </div>
      </div><!-- Rank 3 -->
      <div id="rank-3" class="bg-gradient-to-r from-orange-100 to-orange-50 border-2 border-orange-300 rounded-2xl p-4 sm:p-5 mb-6">
       <div class="flex items-start gap-3"><span class="text-3xl sm:text-4xl">ü•â</span>
        <div class="flex-1">
         <div class="flex items-center justify-between mb-2 flex-wrap gap-2">
          <h4 class="text-lg sm:text-xl font-bold text-gray-800" id="result-prodi-3"></h4><span class="text-xl sm:text-2xl font-bold text-orange-600" id="result-score-3"></span>
         </div>
         <p class="text-xs sm:text-sm text-gray-600 mb-2" id="result-fakultas-3"></p>
         <p class="text-xs sm:text-sm text-gray-600" id="result-penjelasan-3"></p>
        </div>
       </div>
      </div>
     </div><!-- Tombol WhatsApp --> <a id="btn-whatsapp" href="#" target="_blank" rel="noopener noreferrer" class="block w-full whatsapp-btn text-white text-center font-bold py-4 sm:py-5 rounded-xl text-base sm:text-lg mb-4"> üì± Kirim Hasil ke WhatsApp PMB UIA </a> <!-- Share Results -->
     <div class="text-center mb-4">
      <p class="text-gray-600 text-xs sm:text-sm mb-2">Bagikan hasil kamu:</p>
      <div class="flex justify-center gap-3"><button id="btn-share" class="px-4 py-2 bg-blue-500 text-white rounded-lg text-sm font-semibold"> üì§ Share </button> <button id="btn-restart" class="px-4 py-2 bg-gray-500 text-white rounded-lg text-sm font-semibold"> üîÑ Tes Ulang </button>
      </div>
     </div>
     <footer class="text-center text-gray-500 text-xs sm:text-sm mt-6">
      <p id="footer-text-hasil">Copyright ¬© 2026 Suyaka Rendhy. All rights reserved.</p>
     </footer>
    </div>
   </section>
  </main>
  <script>
        // Default Config
        const defaultConfig = {
            university_name: "Universitas Islam As-Syafi'iyah",
            test_title: "Tes Minat & Bakat Kuliah",
            welcome_message: "Temukan program studi yang paling cocok buat kamu!",
            button_start: "Mulai Tes Sekarang üöÄ",
            footer_text: "Copyright ¬© 2026 Suyaka Rendhy. All rights reserved.",
            primary_color: "#10b981",
            secondary_color: "#34d399",
            background_color: "#0f4c3a"
        };

        // State
        let userData = {};
        let currentQuestion = 0;
        let answers = {};
        let streak = 0;
        let direction = 'forward';
        
        // Fun Facts
        const funFacts = [
            "65% mahasiswa UIA mendapat beasiswa!",
            "UIA punya 14 program studi terakreditasi!",
            "Kampus UIA dilengkapi fasilitas modern & nyaman!",
            "Alumni UIA tersebar di berbagai perusahaan ternama!",
            "UIA memiliki program magang & kerja sama industri!",
            "Biaya kuliah di UIA sangat terjangkau!"
        ];
        
        // 30 Soal dengan Emoji & Bahasa Gaul
        const questions = [
            { text: "Aku suka banget ngobrol dan mempengaruhi orang lain", emoji: "üí¨", category: "KPI", type: "social" },
            { text: "Aku tertarik belajar Al-Quran dan Hadits lebih dalam", emoji: "üìñ", category: "PAI", type: "spiritual" },
            { text: "Aku seneng ngitung duit dan main sama angka keuangan", emoji: "üí∞", category: "PBS", type: "analytical" },
            { text: "Aku peduli sama keadilan dan mau ngebantu orang lewat hukum", emoji: "‚öñÔ∏è", category: "HKM", type: "social" },
            { text: "Aku punya jiwa leadership dan suka atur organisasi", emoji: "üëî", category: "MNJ", type: "enterprising" },
            { text: "Aku teliti banget kalau urusan catat-mencatat laporan", emoji: "üìä", category: "AKT", type: "conventional" },
            { text: "Aku suka coding dan bikin aplikasi sendiri", emoji: "üíª", category: "TIF", type: "investigative" },
            { text: "Aku tertarik sama mesin, motor, dan cara kerjanya", emoji: "üîß", category: "TMS", type: "realistic" },
            { text: "Aku suka bikin sistem kerja jadi lebih efisien", emoji: "‚öôÔ∏è", category: "TID", type: "investigative" },
            { text: "Matematika itu seru! Aku suka banget solve problem", emoji: "üî¢", category: "MAT", type: "investigative" },
            { text: "Aku penasaran sama tumbuhan, hewan, dan alam sekitar", emoji: "üå±", category: "BIO", type: "investigative" },
            { text: "Aku percaya diri ngomong dan ngajar pakai bahasa Inggris", emoji: "üó£Ô∏è", category: "PBI", type: "social" },
            { text: "Aku empatik dan suka dengerin curhat temen-temen", emoji: "ü§ó", category: "BK", type: "social" },
            { text: "Aku mau ngebantu orang sakit dan jadi tenaga kesehatan", emoji: "üíâ", category: "KEP", type: "social" },
            { text: "Bikin konten kreatif buat media sosial itu passion-ku!", emoji: "üì±", category: "KPI", type: "artistic" },
            { text: "Aku pengen jadi guru agama atau ustadz/ustadzah", emoji: "üïå", category: "PAI", type: "social" },
            { text: "Aku tertarik kerja di bank syariah atau lembaga keuangan Islam", emoji: "üè¶", category: "PBS", type: "conventional" },
            { text: "Cita-cita ku jadi pengacara atau hakim", emoji: "üë®‚Äç‚öñÔ∏è", category: "HKM", type: "enterprising" },
            { text: "Aku pengen punya bisnis sendiri dan jadi entrepreneur", emoji: "üöÄ", category: "MNJ", type: "enterprising" },
            { text: "Kerja dengan data dan angka setiap hari? Siap!", emoji: "üìà", category: "AKT", type: "conventional" },
            { text: "Bikin website atau aplikasi mobile itu keren!", emoji: "üì≤", category: "TIF", type: "investigative" },
            { text: "Aku suka oprek kendaraan dan alat-alat mekanik", emoji: "üèçÔ∏è", category: "TMS", type: "realistic" },
            { text: "Optimasi produksi dan supply chain menarik buatku", emoji: "üì¶", category: "TID", type: "conventional" },
            { text: "Statistik dan algoritma itu challenging tapi fun!", emoji: "üìê", category: "MAT", type: "investigative" },
            { text: "Riset laboratorium dan eksperimen sains bikin excited", emoji: "üî¨", category: "BIO", type: "investigative" },
            { text: "Ngajar bahasa Inggris ke orang lain itu enjoyable!", emoji: "üìö", category: "PBI", type: "social" },
            { text: "Aku mau jadi konselor profesional yang ngebantu banyak orang", emoji: "üß†", category: "BK", type: "social" },
            { text: "Kerja di rumah sakit atau klinik itu noble profession!", emoji: "üè•", category: "KEP", type: "social" },
            { text: "Dakwah lewat media digital itu impact-nya luas!", emoji: "üé•", category: "KPI", type: "artistic" },
            { text: "Aku pengen sebarkan nilai-nilai Islam lewat pendidikan", emoji: "üéì", category: "PAI", type: "social" }
        ];
        
        // Program Studi
        const programs = {
            KPI: {
                name: "Komunikasi dan Penyiaran Islam",
                degree: "S1",
                fakultas: "Fakultas Agama Islam",
                shortDesc: "Cocok banget buat kamu yang suka public speaking dan dakwah kreatif!",
                explanation: "Kamu punya bakat komunikasi yang oke dan passionate dalam menyampaikan nilai-nilai Islam. Program ini bakal ngasah skill dakwah, jurnalistik Islam, dan content creation yang lagi hits!",
                careers: ["Da'i/Pendakwah Profesional", "Penyiar Radio/TV Islam", "Content Creator Islami", "Jurnalis Media Islam", "Public Relations Lembaga Islam"],
                personality: { social: 9, artistic: 8, enterprising: 7, investigative: 3, conventional: 4, realistic: 2, spiritual: 8 }
            },
            PAI: {
                name: "Pendidikan Agama Islam",
                degree: "S1",
                fakultas: "Fakultas Agama Islam",
                shortDesc: "Perfect buat kamu yang cinta mengajar dan membimbing generasi muda!",
                explanation: "Kamu cocok banget jadi pendidik yang ngajarin nilai-nilai Islam. Program ini ngebentuk guru PAI yang kompeten, paham pedagogik, dan bisa membimbing anak-anak jadi generasi berakhlak mulia!",
                careers: ["Guru PAI", "Dosen PAI", "Konsultan Pendidikan Islam", "Pengembang Kurikulum PAI", "Kepala Madrasah"],
                personality: { social: 9, spiritual: 9, conventional: 6, enterprising: 5, artistic: 4, investigative: 4, realistic: 2 }
            },
            PBS: {
                name: "Perbankan Syariah",
                degree: "S1",
                fakultas: "Fakultas Ekonomi dan Bisnis Islam",
                shortDesc: "Buat kamu yang suka keuangan dan mau kerja sesuai syariat Islam!",
                explanation: "Kamu punya minat kuat di bidang keuangan dan ekonomi syariah. Program ini bakal ngajarin perbankan, investasi, dan manajemen keuangan berbasis prinsip Islam yang lagi booming!",
                careers: ["Relationship Officer Bank Syariah", "Analis Keuangan Syariah", "Manajer Investasi Syariah", "Konsultan Keuangan Syariah", "Auditor Syariah"],
                personality: { conventional: 8, analytical: 8, enterprising: 6, spiritual: 7, social: 5, investigative: 6, realistic: 3 }
            },
            HKM: {
                name: "Ilmu Hukum",
                degree: "S1",
                fakultas: "Fakultas Hukum",
                shortDesc: "Ideal buat kamu yang punya jiwa keadilan dan analitis!",
                explanation: "Kamu punya sense of justice yang tinggi dan minat dalam sistem hukum. Program ini ngebentuk sarjana hukum yang paham hukum positif, hukum Islam, dan bisa kasih solusi hukum yang tepat!",
                careers: ["Advokat/Pengacara", "Notaris", "Hakim", "Jaksa", "Legal Officer Perusahaan"],
                personality: { analytical: 9, enterprising: 7, social: 6, conventional: 7, investigative: 7, spiritual: 5, realistic: 3 }
            },
            MNJ: {
                name: "Manajemen",
                degree: "S1",
                fakultas: "Fakultas Ekonomi dan Bisnis",
                shortDesc: "Cocok buat future leaders dan entrepreneurs!",
                explanation: "Kamu punya jiwa kepemimpinan dan skill mengelola organisasi. Program ini ngembangkan kemampuan manajerial, entrepreneurship, dan strategi bisnis buat karir korporat atau jadi bos sendiri!",
                careers: ["Manager Perusahaan", "Entrepreneur", "Konsultan Bisnis", "HRD Manager", "Marketing Manager"],
                personality: { enterprising: 9, social: 7, conventional: 6, analytical: 7, investigative: 5, artistic: 4, realistic: 3 }
            },
            AKT: {
                name: "Akuntansi",
                degree: "S1",
                fakultas: "Fakultas Ekonomi dan Bisnis",
                shortDesc: "Pas banget buat kamu yang detail-oriented dan suka angka!",
                explanation: "Kamu teliti dan passionate sama dunia angka. Program ini ngelatih jadi akuntan profesional yang bisa handle laporan keuangan, audit, perpajakan, dan sistem informasi akuntansi!",
                careers: ["Akuntan Publik", "Auditor Internal", "Tax Consultant", "Finance Manager", "Cost Accountant"],
                personality: { conventional: 9, analytical: 9, investigative: 6, enterprising: 5, social: 4, realistic: 3, artistic: 2 }
            },
            TIF: {
                name: "Teknik Informatika",
                degree: "S1",
                fakultas: "Fakultas Sains dan Teknologi",
                shortDesc: "Perfect buat kamu yang tech-savvy dan suka ngoding!",
                explanation: "Kamu punya passion di dunia digital dan teknologi. Program ini ngajarin programming, software development, AI, cybersecurity, dan inovasi teknologi masa depan yang keren abis!",
                careers: ["Software Developer", "Data Scientist", "Mobile App Developer", "Cybersecurity Specialist", "IT Consultant"],
                personality: { investigative: 9, analytical: 9, realistic: 6, conventional: 6, enterprising: 5, social: 3, artistic: 4 }
            },
            TMS: {
                name: "Teknik Mesin",
                degree: "S1",
                fakultas: "Fakultas Sains dan Teknologi",
                shortDesc: "Cocok buat kamu yang suka engineering dan mekanik!",
                explanation: "Kamu tertarik banget sama sistem mekanik dan engineering. Program ini ngelatih merancang, menganalisis, dan mengembangkan mesin serta sistem otomotif dengan teknologi modern!",
                careers: ["Mechanical Engineer", "Automotive Engineer", "Maintenance Engineer", "Production Engineer", "Quality Control Engineer"],
                personality: { realistic: 9, investigative: 8, conventional: 6, analytical: 7, enterprising: 4, social: 3, artistic: 2 }
            },
            TID: {
                name: "Teknik Industri",
                degree: "S1",
                fakultas: "Fakultas Sains dan Teknologi",
                shortDesc: "Buat kamu yang suka optimasi dan efisiensi sistem!",
                explanation: "Kamu suka bikin proses jadi lebih efisien. Program ini ngajarin manajemen produksi, supply chain, ergonomi, dan sistem industri buat boost produktivitas perusahaan!",
                careers: ["Industrial Engineer", "Production Planner", "Supply Chain Manager", "Quality Assurance", "Process Improvement Specialist"],
                personality: { investigative: 8, analytical: 8, conventional: 7, realistic: 6, enterprising: 6, social: 4, artistic: 3 }
            },
            MAT: {
                name: "Matematika",
                degree: "S1",
                fakultas: "Fakultas Sains dan Teknologi",
                shortDesc: "Ideal buat kamu yang logical thinking-nya strong!",
                explanation: "Kamu punya kemampuan berpikir logis dan analitis yang tinggi. Program ini ngembangkan keahlian matematika murni, terapan, komputasi, dan pemodelan buat berbagai aplikasi industri!",
                careers: ["Data Analyst", "Actuarial Analyst", "Research Scientist", "Statistician", "Mathematics Teacher"],
                personality: { investigative: 9, analytical: 9, conventional: 6, social: 5, realistic: 4, enterprising: 4, artistic: 3 }
            },
            BIO: {
                name: "Biologi",
                degree: "S1",
                fakultas: "Fakultas Sains dan Teknologi",
                shortDesc: "Perfect buat kamu yang curious sama makhluk hidup!",
                explanation: "Kamu tertarik sama kehidupan dan ekosistem. Program ini kasih pengetahuan mendalam tentang organisme, genetika, ekologi, dan bioteknologi buat kontribusi di bidang life science!",
                careers: ["Research Biologist", "Quality Control Farmasi", "Environmental Consultant", "Biotechnology Specialist", "Science Teacher"],
                personality: { investigative: 9, analytical: 8, realistic: 6, social: 5, conventional: 5, enterprising: 3, artistic: 4 }
            },
            PBI: {
                name: "Pendidikan Bahasa Inggris",
                degree: "S1",
                fakultas: "Fakultas Keguruan dan Ilmu Pendidikan",
                shortDesc: "Cocok buat kamu yang English-savvy dan suka mengajar!",
                explanation: "Kamu punya skill bahasa Inggris yang bagus dan passion mengajar. Program ini ngepersiapkan jadi guru bahasa Inggris profesional dengan metode pengajaran modern dan efektif!",
                careers: ["Guru Bahasa Inggris", "Dosen Bahasa Inggris", "Translator", "English Trainer", "Curriculum Developer"],
                personality: { social: 9, artistic: 7, conventional: 6, investigative: 5, enterprising: 5, realistic: 3, analytical: 6 }
            },
            BK: {
                name: "Bimbingan dan Konseling",
                degree: "S1",
                fakultas: "Fakultas Keguruan dan Ilmu Pendidikan",
                shortDesc: "Pas buat kamu yang empati dan peduli mental health!",
                explanation: "Kamu empati tinggi dan peduli sama perkembangan psikologis orang. Program ini ngelatih jadi konselor profesional yang bisa bantu siswa/klien atasi masalah personal, sosial, dan karir!",
                careers: ["Konselor Sekolah", "Psikolog Pendidikan", "Career Counselor", "Konselor Keluarga", "HR Development Specialist"],
                personality: { social: 9, artistic: 6, investigative: 7, conventional: 5, enterprising: 5, realistic: 2, analytical: 6 }
            },
            KEP: {
                name: "Ilmu Keperawatan",
                degree: "S1",
                fakultas: "Fakultas Ilmu Kesehatan",
                shortDesc: "Ideal buat kamu yang caring dan mau serve masyarakat!",
                explanation: "Kamu punya jiwa menolong dan peduli kesehatan. Program ini ngasih pengetahuan medis, skill keperawatan, dan etika profesi buat kasih pelayanan kesehatan berkualitas!",
                careers: ["Perawat Rumah Sakit", "Perawat ICU/IGD", "Community Health Nurse", "Perawat Home Care", "Clinical Instructor"],
                personality: { social: 9, realistic: 7, conventional: 7, investigative: 6, enterprising: 4, analytical: 6, artistic: 3 }
            }
        };
        
        // Personality types
        const personalityTypes = {
            social: { name: "Sosial", emoji: "üë•", color: "#10b981" },
            artistic: { name: "Kreatif", emoji: "üé®", color: "#8b5cf6" },
            investigative: { name: "Investigatif", emoji: "üîç", color: "#3b82f6" },
            realistic: { name: "Realistis", emoji: "üîß", color: "#f59e0b" },
            enterprising: { name: "Enterprising", emoji: "üíº", color: "#ef4444" },
            conventional: { name: "Konvensional", emoji: "üìã", color: "#6366f1" },
            analytical: { name: "Analitis", emoji: "üìä", color: "#ec4899" },
            spiritual: { name: "Spiritual", emoji: "üïå", color: "#14b8a6" }
        };
        
        // Pages
        const pageDataDiri = document.getElementById('page-data-diri');
        const pageTes = document.getElementById('page-tes');
        const pageLoading = document.getElementById('page-loading');
        const pageHasil = document.getElementById('page-hasil');
        
        // Form validation
        function validateForm() {
            const nama = document.getElementById('nama').value.trim();
            const wa = document.getElementById('whatsapp').value.trim();
            const sekolah = document.getElementById('sekolah').value.trim();
            
            document.getElementById('btn-start').disabled = !(nama && wa && sekolah);
        }
        
        document.getElementById('nama').addEventListener('input', validateForm);
        document.getElementById('whatsapp').addEventListener('input', validateForm);
        document.getElementById('sekolah').addEventListener('input', validateForm);
        
        // Submit form
        document.getElementById('form-data-diri').addEventListener('submit', (e) => {
            e.preventDefault();
            
            userData = {
                nama: document.getElementById('nama').value.trim(),
                whatsapp: document.getElementById('whatsapp').value.trim(),
                sekolah: document.getElementById('sekolah').value.trim(),
                referensi: document.getElementById('referensi').value.trim() || '-'
            };
            
            pageDataDiri.classList.add('hidden');
            pageTes.classList.remove('hidden');
            showQuestion(0);
        });
        
        // Show question with animation
        function showQuestion(index) {
            currentQuestion = index;
            const question = questions[index];
            
            const soalContainer = document.getElementById('soal-container');
            soalContainer.className = direction === 'forward' ? 'mb-8 slide-in-right' : 'mb-8 slide-in-left';
            
            document.getElementById('soal-text').innerHTML = `
                <span class="text-4xl sm:text-5xl mb-4 block">${question.emoji}</span>
                ${index + 1}. ${question.text}
            `;
            
            // Options
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';
            
            const emojiOptions = [
                { emoji: "üòç", text: "Banget!", value: 0, color: "from-green-500 to-green-600" },
                { emoji: "üôÇ", text: "Iya sih", value: 1, color: "from-blue-500 to-blue-600" },
                { emoji: "üòê", text: "Biasa aja", value: 2, color: "from-yellow-500 to-yellow-600" },
                { emoji: "üôÖ", text: "Engga deh", value: 3, color: "from-red-500 to-red-600" }
            ];
            
            emojiOptions.forEach((option) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'emoji-option';
                
                const optionId = `q${index}_opt${option.value}`;
                const isChecked = answers[index] === option.value;
                
                optionDiv.innerHTML = `
                    <input type="radio" id="${optionId}" name="q${index}" value="${option.value}" class="hidden" ${isChecked ? 'checked' : ''}>
                    <label for="${optionId}" class="flex items-center justify-between px-4 sm:px-6 py-4 sm:py-5 border-3 border-gray-300 rounded-2xl cursor-pointer font-bold text-gray-700 hover:border-green-400 transition-all">
                        <span class="flex items-center gap-3 sm:gap-4">
                            <span class="emoji-scale">${option.emoji}</span>
                            <span class="text-base sm:text-lg">${option.text}</span>
                        </span>
                    </label>
                `;
                
                optionsContainer.appendChild(optionDiv);
                
                document.getElementById(optionId).addEventListener('change', () => {
    if (answers[index] === undefined) {
        streak++;
    }
    answers[index] = option.value;
    updateStreak();
});
            });
            
            // Progress
            const progress = ((index + 1) / questions.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
            document.getElementById('progress-text').textContent = `Soal ${index + 1} dari ${questions.length}`;
            
            // Buttons
            document.getElementById('btn-prev').disabled = index === 0;
            
            if (index === questions.length - 1) {
                document.getElementById('btn-next').classList.add('hidden');
                document.getElementById('btn-submit-test').classList.remove('hidden');
            } else {
                document.getElementById('btn-next').classList.remove('hidden');
                document.getElementById('btn-submit-test').classList.add('hidden');
            }
            
            // Show fun fact every 5 questions
            const funFactEl = document.getElementById('fun-fact');
            if ((index + 1) % 5 === 0 && index > 0) {
                const randomFact = funFacts[Math.floor(Math.random() * funFacts.length)];
                document.getElementById('fun-fact-text').textContent = randomFact;
                funFactEl.classList.remove('hidden');
                setTimeout(() => funFactEl.classList.add('hidden'), 5000);
            }
            
            // Milestone celebration
            if ((index + 1) === 10 || (index + 1) === 20) {
                showCelebration(index + 1);
            }
        }
        
        // Update streak
        function updateStreak() {
            const streakEl = document.getElementById('streak-indicator');
            if (streak >= 5) {
                document.getElementById('streak-count').textContent = streak;
                streakEl.classList.remove('hidden');
            }
        }
        
        // Show celebration
        function showCelebration(questionNum) {
            const celebrationDiv = document.createElement('div');
            celebrationDiv.className = 'celebration';
            
            let message = '';
            let emoji = '';
            if (questionNum === 10) {
                message = 'Keren! Kamu sudah 33% selesai!';
                emoji = 'üî•';
            } else if (questionNum === 20) {
                message = 'Hampir selesai! Tinggal 10 soal lagi!';
                emoji = 'üí™';
            }
            
            celebrationDiv.innerHTML = `
                <div class="bg-white rounded-3xl p-8 text-center card-shadow">
                    <div class="text-6xl mb-4">${emoji}</div>
                    <h3 class="text-2xl font-bold text-green-600">${message}</h3>
                </div>
            `;
            
            document.body.appendChild(celebrationDiv);
            
            // Confetti
            createConfetti();
            
            setTimeout(() => {
                celebrationDiv.remove();
            }, 2000);
        }
        
        // Create confetti
        function createConfetti() {
            const colors = ['#10b981', '#34d399', '#fbbf24', '#f59e0b', '#ef4444', '#8b5cf6'];
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.top = '-10px';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDelay = Math.random() * 0.5 + 's';
                document.body.appendChild(confetti);
                
                setTimeout(() => confetti.remove(), 3000);
            }
        }
        
        // Navigation
        document.getElementById('btn-prev').addEventListener('click', () => {
            if (currentQuestion > 0) {
                direction = 'backward';
                showQuestion(currentQuestion - 1);
            }
        });
        
        document.getElementById('btn-next').addEventListener('click', () => {
            direction = 'forward';
            if (currentQuestion < questions.length - 1) {
                showQuestion(currentQuestion + 1);
            }
        });
        
        // Submit test
        document.getElementById('btn-submit-test').addEventListener('click', () => {
            pageTes.classList.add('hidden');
            pageLoading.classList.remove('hidden');
            
            const loadingTexts = [
                'üîç Menganalisis jawaban kamu...',
                'üß† Menghitung kepribadian...',
                '‚ú® Menemukan prodi terbaik...',
                'üéØ Menyiapkan hasil...'
            ];
            
            let textIndex = 0;
            const loadingInterval = setInterval(() => {
                document.getElementById('loading-text').textContent = loadingTexts[textIndex];
                textIndex = (textIndex + 1) % loadingTexts.length;
            }, 800);
            
            setTimeout(() => {
                clearInterval(loadingInterval);
                calculateResult();
            }, 3000);
        });
        
        // Calculate result
        function calculateResult() {
    const scores = {};
    const counts = {};
    const personalityScores = {};

    // Init skor & counter prodi
    Object.keys(programs).forEach(key => {
        scores[key] = 0;
        counts[key] = 0;
    });

    // Init personality
    Object.keys(personalityTypes).forEach(key => {
        personalityScores[key] = 0;
    });

    // Bobot jawaban (Banget, Iya, Biasa, Engga)
    const weightMap = [4, 3, 1, 0];

    // Hitung skor
    questions.forEach((question, index) => {
        const answer = answers[index];
        if (answer === undefined) return;

        const score = weightMap[answer];

        // Prodi
        if (scores.hasOwnProperty(question.category)) {
            scores[question.category] += score;
            counts[question.category]++;
        }

        // Personality
        if (question.type && personalityScores.hasOwnProperty(question.type)) {
            personalityScores[question.type] += score;
        }
    });

    // Normalisasi skor prodi (rata-rata)
    Object.keys(scores).forEach(key => {
        scores[key] = counts[key] > 0 ? scores[key] / counts[key] : 0;
    });

    // Sinkronisasi personality ‚Üí prodi (bonus kecil)
    Object.entries(programs).forEach(([key, program]) => {
        let bonus = 0;
        if (program.personality) {
            Object.keys(program.personality).forEach(type => {
                bonus += (personalityScores[type] || 0) * program.personality[type];
            });
        }
        scores[key] += bonus * 0.05; // bobot 5%
    });

    // Ambil top 3
    const sortedPrograms = Object.entries(scores)
        .sort(([, a], [, b]) => b - a)
        .slice(0, 3);

    // cek apakah semua personality = 0
const allZeroPersonality = Object.values(personalityScores).every(v => v === 0);

if (allZeroPersonality) {
    const defaultPrograms = [
        ['MNJ', 100],
        ['TIF', 90],
        ['PAI', 85]
    ];
    document.getElementById('default-info').classList.remove('hidden');

    showResult(defaultPrograms, personalityScores);
}
 else {
    showResult(sortedPrograms, personalityScores);
}

}

        
        // Show result
        function showResult(topPrograms, personalityScores) {
            pageLoading.classList.add('hidden');
            pageHasil.classList.remove('hidden');
            
            // Data peserta
            document.getElementById('result-nama').textContent = userData.nama;
            document.getElementById('result-wa').textContent = userData.whatsapp;
            document.getElementById('result-sekolah').textContent = userData.sekolah;
            document.getElementById('result-referensi').textContent = userData.referensi;
            
            // Personality bars
            const personalityBarsEl = document.getElementById('personality-bars');
            personalityBarsEl.innerHTML = '';
            
            const maxPersonalityScore = Math.max(...Object.values(personalityScores)) || 1;

            Object.entries(personalityScores).forEach(([type, score]) => {
                const percentage = maxPersonalityScore > 0 ? (score / maxPersonalityScore) * 100 : 0;
                const typeInfo = personalityTypes[type];
                
                const barDiv = document.createElement('div');
                barDiv.innerHTML = `
                    <div class="flex items-center justify-between mb-2">
                        <span class="font-semibold text-gray-700 text-sm sm:text-base">${typeInfo.emoji} ${typeInfo.name}</span>
                        <span class="font-bold" style="color: ${typeInfo.color}">${Math.round(percentage)}%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-3 sm:h-4">
                        <div class="h-3 sm:h-4 rounded-full transition-all duration-1000" style="width: ${percentage}%; background: ${typeInfo.color}"></div>
                    </div>
                `;
                personalityBarsEl.appendChild(barDiv);
            });
            
            // Top 3 programs
            const maxScore = topPrograms[0][1];
            topPrograms.forEach(([key, score], index) => {
                const program = programs[key];
                const percentage = maxScore > 0 ? Math.round((score / maxScore) * 100) : 0;
                
                document.getElementById(`result-prodi-${index + 1}`).textContent = program.name;
                document.getElementById(`result-fakultas-${index + 1}`).textContent = `${program.fakultas} ‚Ä¢ ${program.degree}`;
                document.getElementById(`result-score-${index + 1}`).textContent = `${percentage}%`;
                
                if (index === 0) {
                    document.getElementById(`result-penjelasan-1`).textContent = program.explanation;
                    
                    const karirList = document.getElementById('result-karir-1');
                    karirList.innerHTML = '';
                    program.careers.forEach(career => {
                        const li = document.createElement('li');
                        li.textContent = career;
                        karirList.appendChild(li);
                    });
                } else {
                    document.getElementById(`result-penjelasan-${index + 1}`).textContent = program.shortDesc;
                }
            });
            
            // WhatsApp
            const topProgram = programs[topPrograms[0][0]];
            const percentage1 = Math.round((topPrograms[0][1] / topPrograms[0][1]) * 100);
            const percentage2 = topPrograms[1] ? Math.round((topPrograms[1][1] / topPrograms[0][1]) * 100) : 0;
            const percentage3 = topPrograms[2] ? Math.round((topPrograms[2][1] / topPrograms[0][1]) * 100) : 0;
            
            const waMessage = `*TES MINAT & BAKAT UIA 2026*
================================

Assalamu'alaikum Wr. Wb.

Saya *${userData.nama.toUpperCase()}*
Dari *${userData.sekolah}*

Baru saja menyelesaikan Tes Minat & Bakat UIA dan ingin konsultasi lebih lanjut

================================
*HASIL REKOMENDASI SAYA:*

*[#1] ${topProgram.name}* (${topProgram.degree})
${topProgram.fakultas}
Kesesuaian: *${percentage1}%*

${topProgram.shortDesc}

${topPrograms[1] ? `[#2] ${programs[topPrograms[1][0]].name} (${percentage2}%)` : ''}
${topPrograms[2] ? `[#3] ${programs[topPrograms[2][0]].name} (${percentage3}%)` : ''}

================================
*Prospek Karir:*
${topProgram.careers.slice(0, 3).map(career => `- ${career}`).join('\n')}

================================

Mohon informasi lebih lanjut tentang:
- Jalur pendaftaran
- Biaya kuliah & beasiswa
- Fasilitas kampus
- Prospek lulusan

Terima kasih

WhatsApp: ${userData.whatsapp}
${userData.referensi !== '-' ? `Referensi: ${userData.referensi}` : ''}`;
            
            const waNumber = '6281287923455'; // GANTI DENGAN NOMOR PMB UIA
            document.getElementById('btn-whatsapp').href = `https://wa.me/${waNumber}?text=${encodeURIComponent(waMessage)}`;
        }
        
        // Share & Restart
        document.getElementById('btn-share').addEventListener('click', async () => {
            if (navigator.share) {
                try {
                    await navigator.share({
                        title: 'Hasil Tes Minat Bakat UIA',
                        text: `Aku cocok di ${document.getElementById('result-prodi-1').textContent}! Yuk coba tes juga!`,
                        url: window.location.href
                    });
                } catch (err) {
                    console.log('Share cancelled');
                }
            } else {
                const msg = document.createElement('div');
                msg.className = 'fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-600 text-white px-6 py-3 rounded-lg z-50';
                msg.textContent = '‚úÖ Link disalin!';
                document.body.appendChild(msg);
                
                navigator.clipboard.writeText(window.location.href);
                
                setTimeout(() => msg.remove(), 2000);
            }
        });
        
        document.getElementById('btn-restart').addEventListener('click', () => {
            answers = {};
            currentQuestion = 0;
            streak = 0;
            pageHasil.classList.add('hidden');
            pageDataDiri.classList.remove('hidden');
            document.getElementById('form-data-diri').reset();
            validateForm();
        });
        
        // Init
        validateForm();

        // Element SDK
        async function onConfigChange(config) {
            document.getElementById('university-name').textContent = config.university_name || defaultConfig.university_name;
            document.getElementById('test-title').textContent = config.test_title || defaultConfig.test_title;
            document.getElementById('welcome-message').textContent = config.welcome_message || defaultConfig.welcome_message;
            document.getElementById('btn-start').textContent = config.button_start || defaultConfig.button_start;
            
            [document.getElementById('footer-text'),
             document.getElementById('footer-text-tes'),
             document.getElementById('footer-text-hasil')].forEach(el => {
                if (el) el.textContent = config.footer_text || defaultConfig.footer_text;
            });

            const primaryColor = config.primary_color || defaultConfig.primary_color;
            const secondaryColor = config.secondary_color || defaultConfig.secondary_color;
            const backgroundColor = config.background_color || defaultConfig.background_color;

            document.getElementById('app').style.background = `linear-gradient(135deg, ${backgroundColor} 0%, ${primaryColor} 50%, ${secondaryColor} 100%)`;

            const style = document.createElement('style');
style.innerHTML = `
  :root {
    --primary-color: ${primaryColor};
    --secondary-color: ${secondaryColor};
  }
`;
document.head.appendChild(style);

            style.setAttribute('data-custom', 'true');
            style.textContent = `
                .btn-primary { background: linear-gradient(135deg, ${primaryColor} 0%, ${backgroundColor} 100%) !important; }
                .progress-bar { background: linear-gradient(90deg, ${primaryColor}, ${secondaryColor}) !important; }
                .emoji-option input:checked + label { background: linear-gradient(135deg, ${primaryColor} 0%, ${backgroundColor} 100%) !important; }
            `;
            const existing = document.querySelector('style[data-custom]');
            if (existing) existing.remove();
            document.head.appendChild(style);
        }

        function mapToCapabilities(config) {
            return {
                recolorables: [
                    {
                        get: () => config.primary_color || defaultConfig.primary_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.config.primary_color = value;
                                window.elementSdk.setConfig({ primary_color: value });
                            }
                        }
                    },
                    {
                        get: () => config.secondary_color || defaultConfig.secondary_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.config.secondary_color = value;
                                window.elementSdk.setConfig({ secondary_color: value });
                            }
                        }
                    },
                    {
                        get: () => config.background_color || defaultConfig.background_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.config.background_color = value;
                                window.elementSdk.setConfig({ background_color: value });
                            }
                        }
                    }
                ],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            };
        }

        function mapToEditPanelValues(config) {
            return new Map([
                ["university_name", config.university_name || defaultConfig.university_name],
                ["test_title", config.test_title || defaultConfig.test_title],
                ["welcome_message", config.welcome_message || defaultConfig.welcome_message],
                ["button_start", config.button_start || defaultConfig.button_start],
                ["footer_text", config.footer_text || defaultConfig.footer_text]
            ]);
        }

        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                onConfigChange,
                mapToCapabilities,
                mapToEditPanelValues
            });
        }
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9aca7778e41b9e34',t:'MTc2NTUxMzYxOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
